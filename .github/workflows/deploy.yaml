name: good
on:
    workflow_dispatch
jobs:
     initialize:
        runs-on: ubuntu-latest
        steps:
          - name: checkout code
            uses: actions/checkout@v5
          - uses: hashicorp/setup-terraform@v3
          - name:  configure aws credentials
            uses: aws-actions/configure-aws-credentials@v5.1.0
            with:
              aws-access-key-id: ${{ secrets.AWS_ACCESS_KEY_ID }}
              aws-secret-access-key: ${{ secrets.AWS_SECRET_ACCESS_KEY }}
              aws-region: us-east-1
          - name: terraform init
            working-directory: environments/dev
            run: terraform init
            id: INITIALIZING
          - name: terraform plan
            working-directory: environments/dev
            run: terraform plan -out=tfplan
            id: new_infra
          - name: terraform apply
            working-directory: environments/dev
            run: terraform apply tfplan
            id: applied_changes
            